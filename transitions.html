<!DOCTYPE html>
<meta charset="utf-8">
<html>
<head>
<title>Music 5</title>
</head>
<style>

svg {
	background-color: lightgray;
}

rect {
	fill: steelblue;
	height: 50px;
	width: 50px;
}


</style>
<body>
<div id="three3"></div>
<script src="https://d3js.org/d3.v3.min.js"></script>
<script>


var data = [1,2,3,4]
	 u = 1000

var svg = d3.select("body").append("svg")
  .attr("width", 400)
  .attr("height",400)


var panel = svg.selectAll("rect")
    .data(data)
  .enter().append("rect")
  	.attr("x",function(d,i) {return i*100})
  	.attr("y",0)
  	.attr("id",function(d,i) {return "id" + i})



function blink() {

panel
		.attr("opacity",1)
	.transition()
		.delay(function(d,i) {return i*u})
		.attr("opacity", 0.5)
	.transition()
		.duration(1000)
		.attr("opacity",1)
	setTimeout(function() {blink()},u*4)
}


blink()



</script>
</body>
</html>